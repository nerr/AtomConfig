{"mode":"editor","version":1,"windowDimensions":{"x":3,"y":22,"width":1065,"height":717},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{"/Users/Leon/Code/NSTS/MQL4/Include/NSTS/nst_lib_symbol.mqh":"source.mq4"}},"project":{"path":"/Users/Leon/Code","buffers":[{"text":"int libSymbolsList(string &Symbols[], bool Selected)\n{\n   string SymbolsFileName;\n   int Offset, SymbolsNumber;\n\n   if(Selected) SymbolsFileName = \"symbols.sel\";\n   else         SymbolsFileName = \"symbols.raw\";\n\n   int hFile = FileOpenHistory(SymbolsFileName, FILE_BIN|FILE_READ);\n   if(hFile < 0) return(-1);\n\n   if(Selected) { SymbolsNumber = (FileSize(hFile) - 4) / 128; Offset = 116;  }\n   else         { SymbolsNumber = FileSize(hFile) / 1936;      Offset = 1924; }\n\n   ArrayResize(Symbols, SymbolsNumber);\n\n   if(Selected) FileSeek(hFile, 4, SEEK_SET);\n\n   for(int i = 0; i < SymbolsNumber; i++)\n   {\n      Symbols[i] = FileReadString(hFile, 12);\n      FileSeek(hFile, Offset, SEEK_CUR);\n   }\n\n   FileClose(hFile);\n\n   return(SymbolsNumber);\n}\n\n\n\n\nstring libSymbolDescription(string SymbolName)\n{\n   string SymbolDescription = \"\";\n\n   int hFile = FileOpenHistory(\"symbols.raw\", FILE_BIN|FILE_READ);\n   if(hFile < 0) return(\"\");\n\n   int SymbolsNumber = FileSize(hFile) / 1936;\n\n   for(int i = 0; i < SymbolsNumber; i++)\n   {\n      if(FileReadString(hFile, 12) == SymbolName)\n      {\n         SymbolDescription = FileReadString(hFile, 64);\n         break;\n      }\n      FileSeek(hFile, 1924, SEEK_CUR);\n   }\n\n   FileClose(hFile);\n\n   return(SymbolDescription);\n}\n\n\n\n\nstring libSymbolType(string SymbolName)\n{\n   int GroupNumber = -1;\n   string SymbolGroup = \"\";\n\n   int hFile = FileOpenHistory(\"symbols.raw\", FILE_BIN|FILE_READ);\n   if(hFile < 0) return(\"\");\n\n   int SymbolsNumber = FileSize(hFile) / 1936;\n\n   for(int i = 0; i < SymbolsNumber; i++)\n   {\n      if(FileReadString(hFile, 12) == SymbolName)\n      {\n         FileSeek(hFile, 1936*i + 100, SEEK_SET);\n         GroupNumber = FileReadInteger(hFile);\n\n         break;\n      }\n      FileSeek(hFile, 1924, SEEK_CUR);\n   }\n\n   FileClose(hFile);\n\n   if(GroupNumber < 0) return(\"\");\n\n   hFile = FileOpenHistory(\"symgroups.raw\", FILE_BIN|FILE_READ);\n   if(hFile < 0) return(\"\");\n\n   FileSeek(hFile, 80*GroupNumber, SEEK_SET);\n   SymbolGroup = FileReadString(hFile, 16);\n\n   FileClose(hFile);\n\n   return(SymbolGroup);\n}\n\n\ndouble libSymbolCalcMargin(string _sy, double _lot, int _ot, int _level, int _multiple = 100000)\n{\n   double margin = MarketInfo(_sy, 10 - _ot) * _multiple / _level * _lot;\n   return(margin);\n}\n\ndouble libSymbolMarginRequire(string _sy, double _lot)\n{\n   return(MarketInfo(_sy, MODE_MARGINREQUIRED) * _lot);\n}\n","markers":{"markers":{"1":{"id":1,"range":[[13,0],[13,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":355,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/Leon/Code/NSTS/MQL4/Include/NSTS/nst_lib_symbol.mqh","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"38d253cd0d27244d2c2f355b15fd8e323c0d8c8c","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":355,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":356,"softWrap":false,"editorWidthInChars":110,"tokenizedBuffer":{"bufferPath":"/Users/Leon/Code/NSTS/MQL4/Include/NSTS/nst_lib_symbol.mqh","tabLength":4,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"deserializer":"SettingsView","version":2,"activePanelName":"Themes","uri":"atom://config"}],"activeItemUri":"atom://config","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"language-mql":{},"fuzzy-finder":{"/Users/Leon/Code/NSTS/MQL4/Include/NSTS/nst_lib_symbol.mqh":1395979978902},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":13817405},"tree-view":{"directoryExpansionStates":{"NSTS":{"MQL4":{"Include":{"NSTS":{}}}}},"hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":281},"find-and-replace":{"viewState":{"findHistory":["sub","else if","arraysize","initDebugInfo","debug","symbols","symbolnum","combination","init","setTextObj","createTextObj","+ i +","updateDashboard","alert","getCombination"],"replaceHistory":["_symbols","_symnum","_array","libVisualSetTextObj","libVisualCreateTextObj","+ rownum +"],"modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false}}}}}